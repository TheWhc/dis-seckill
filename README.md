# åˆ†å¸ƒå¼é«˜å¹¶å‘å•†å“ç§’æ€ç³»ç»Ÿè®¾è®¡

[TOC]

# ä¸€ã€ä»‹ç»

æœ¬é¡¹ç›®ä¸ºä¹‹å‰å†™çš„ä¸€ä¸ªå•ä½“é«˜å¹¶å‘å•†å“ç§’æ€çš„åˆ†å¸ƒå¼æ”¹è¿›ç‰ˆæœ¬ã€‚

å•†å“ç§’æ€ä¸å…¶å®ƒä¸šåŠ¡æœ€å¤§çš„åŒºåˆ«åœ¨äºï¼š

- ä½å»‰ä»·æ ¼
- å¤§å¹…æ¨å¹¿
- ç¬æ—¶å”®ç©º
- ä¸€èˆ¬æ˜¯å®šæ—¶ä¸Šæ¶
- æ—¶é—´çŸ­ã€ç¬æ—¶å¹¶å‘é‡é«˜ã€ç½‘ç»œçš„æµé‡ä¹Ÿä¼šç¬é—´å˜å¤§

é™¤äº†å…·æœ‰ä»¥ä¸Šç‰¹ç‚¹ï¼Œç§’æ€å•†å“è¿˜éœ€è¦å®Œæˆæ­£å¸¸çš„ç”µå­å•†åŠ¡é€»è¾‘ã€‚

æœ¬é¡¹ç›®å¼•å…¥è¯¸å¤šä¼˜åŒ–æ‰‹æ®µï¼Œä½¿ç³»ç»Ÿå¯ä»¥ä»å®¹åº”å¯¹ç§’æ€åœºæ™¯ä¸‹çš„ä¸šåŠ¡å¤„ç†ã€‚

æœ¬é¡¹ç›®æ˜¯å¯¹å•ä½“é¡¹ç›®è¿›è¡Œäº†åˆ†å¸ƒå¼æ”¹é€ ï¼Œå¯¹èŒè´£è¿›è¡Œäº†åˆ’åˆ†ï¼Œé™ä½äº†å•ä½“åº”ç”¨çš„ä¸šåŠ¡è€¦åˆæ€§ã€‚

# äºŒã€å¿«é€Ÿå¯åŠ¨

- å¼€å‘å·¥å…·

  |        ğŸ–         |       ğŸŒ       |      ğŸ–      |        ğŸ¯         |        ğŸ¦„         |              |
  | :--------------: | :-----------: | :---------: | :--------------: | :--------------: | :----------: |
  |     Java 1.8     | Mysql 5.7.20  | Redis 2.8.9 | Zookeeper 3.4.12 |  Rabbitmq 3.7.7  |              |
  |        ğŸ§         |       ğŸ¥‡       |      ğŸŒˆ      |        ğŸ»         |        ğŸ“®         |      ğŸš       |
  | SpringBoot 2.1.5 | MyBatis 2.0.1 | Dubbo 2.7.1 |  Nginx   1.20.1  | Thymeleaf 3.0.11 | jmeter 5.4.1 |

  å®‰è£…å¥½ä¸Šè¿°æ„å»ºå·¥å…·å’Œå¼€å‘ç¯å¢ƒã€‚

**ç¬¬ä¸€æ­¥**ï¼šå®Œæˆæ•°æ®åº“çš„åˆå§‹åŒ–

ä½¿ç”¨`./dis-seckill-common/schema/seckill.sql`åˆå§‹åŒ–æ•°æ®åº“ã€‚

**ç¬¬äºŒæ­¥**ï¼š å°†é¡¹ç›®å¯¼å…¥IDEä¸­è¿›è¡Œæ„å»ºï¼ŒæŒ‰ç…§ä»¥ä¸‹çš„é¡ºåºå¯åŠ¨æœåŠ¡

- å¯åŠ¨ç¼“å­˜æœåŠ¡
- å¯åŠ¨ç”¨æˆ·æœåŠ¡
- å¯åŠ¨è®¢å•æœåŠ¡
- å¯åŠ¨å•†å“æœåŠ¡
- å¯åŠ¨æ¶ˆæ¯é˜Ÿåˆ—æœåŠ¡
- å¯åŠ¨ç½‘å…³æœåŠ¡

> æ³¨ï¼š å¯åŠ¨æœåŠ¡æ—¶æœ€å¥½æŒ‰ä¸Šé¢çš„é¡ºåºå¯åŠ¨

**ç¬¬ä¸‰æ­¥ï¼š**è®¿é—®é¡¹ç›®å…¥å£åœ°å€

```
http://localhost:8082
```

åˆå§‹ç”¨æˆ·æ‰‹æœºå·ç ï¼š13428317233ï¼Œå¯†ç : 00000

# ä¸‰ã€ç³»ç»Ÿæ¶æ„å›¾

![image-20210630213816233](https://gitee.com/wu_hc/note_images/raw/master/project/seckill/20210630220403.png)

- æ³¨å†Œä¸­å¿ƒä½¿ç”¨ZooKeeper
- ç¼“å­˜é‡‡ç”¨redis
- æ¶ˆæ¯é˜Ÿåˆ—é‡‡ç”¨RabbitMQ
- ç”¨æˆ·è¯·æ±‚å…¨éƒ¨äº¤ç”±Gatewayæ¨¡å—å¤„ç†
- Gatewayæ¨¡å—ä½¿ç”¨RPCçš„æ–¹å¼è°ƒç”¨å…¶å®ƒæ¨¡å—æä¾›çš„æœåŠ¡å®Œæˆä¸šåŠ¡å¤„ç†

# å››ã€é¡¹ç›®å…¥é—¨

## 1ã€æ¨¡å—ä»‹ç»

![image-20210630203152357](https://gitee.com/wu_hc/note_images/raw/master/project/seckill/20210630220421.png)

- `dis-seckill-common`: é€šç”¨æ¨¡å—

- `dis-seckill-user`: ç”¨æˆ·æ¨¡å—

- `dis-seckill-goods`: å•†å“æ¨¡å—

- `dis-seckill-order`: è®¢å•æ¨¡å—

- `dis-seckill-gateway`: ç½‘å…³æ¨¡å—

- `dis-seckill-cache`: ç¼“å­˜æ¨¡å—

- `dis-seckill-mq`: æ¶ˆæ¯é˜Ÿåˆ—æ¨¡å—

   ç”¨æˆ·è¯·æ±‚å…¨éƒ¨äº¤ç”±Gatewayæ¨¡å—å¤„ç†ï¼ŒGatewayæ¨¡å—ä½¿ç”¨RPCï¼ˆè¿œç¨‹è¿‡ç¨‹è°ƒç”¨ï¼‰çš„æ–¹å¼è°ƒç”¨å…¶å®ƒæ¨¡å—æä¾›çš„æœåŠ¡å®Œå…¨ä¸šåŠ¡å¤„ç†

## 2ã€ç§’æ€æµç¨‹å›¾

![image-20210630214404615](https://gitee.com/wu_hc/note_images/raw/master/project/seckill/20210630220416.png)

## 3ã€ç§’æ€æ–¹æ¡ˆä»‹ç»

![image-20210630215406470](https://gitee.com/wu_hc/note_images/raw/master/project/seckill/20210630220422.png)

# äº”ã€TODO

- [x] [é¡¹ç›®åŸºæœ¬æŠ€æœ¯ç‚¹]();
- [x] **[ç§’æ€æµç¨‹ä¼˜åŒ–]()**ï¼›
- [x] **[æ¥å£å®‰å…¨ä¼˜åŒ–]()**ï¼›
- [x] **[ç³»ç»Ÿé™æµä¸é™çº§æœåŠ¡]()**;
- [ ] **[`Nginx`æ°´å¹³æ‰©å±•ç½‘å…³æ¨¡å—ä¸é™æµé…ç½®]()**;

# å…­ã€Q&A

| Q&A                                                          |
| ------------------------------------------------------------ |
| [å‰åç«¯äº¤äº’æ¥å£å®šä¹‰](https://github.com/TheWhc/dis-seckill/blob/master/doc/%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3%E5%AE%9A%E4%B9%89.md) |
| [å‰åç«¯äº¤äº’æ¥å£é€»è¾‘å®ç°](https://github.com/TheWhc/dis-seckill/blob/master/doc/%E5%89%8D%E5%90%8E%E7%AB%AF%E4%BA%A4%E4%BA%92%E6%8E%A5%E5%8F%A3%E9%80%BB%E8%BE%91%E5%AE%9E%E7%8E%B0.md)                                   |
| [`Redis`ä¸­å­˜å‚¨çš„æ•°æ®](https://github.com/TheWhc/dis-seckill/blob/master/doc/Redis%E4%B8%AD%E5%AD%98%E5%82%A8%E7%9A%84%E6%95%B0%E6%8D%AE.md)                                      |
| [ä½¿ç”¨åˆ†å¸ƒå¼é”è§£å†³æ¶æ„ç”¨æˆ·é‡å¤æ³¨å†Œé—®é¢˜](https://github.com/TheWhc/dis-seckill/blob/master/doc/%E4%BD%BF%E7%94%A8%E5%88%86%E5%B8%83%E5%BC%8F%E9%94%81%E8%A7%A3%E5%86%B3%E6%81%B6%E6%84%8F%E7%94%A8%E6%88%B7%E9%87%8D%E5%A4%8D%E6%B3%A8%E5%86%8C%E9%97%AE%E9%A2%98.md)                     |
| [æ‹¦æˆªå™¨`HandlerInterceptor`çš„ä½¿ç”¨]()                         |
| **[`Rabbitmq`å¦‚ä½•ä¿è¯æ¶ˆæ¯çš„å¯é æŠ•é€’ï¼ˆï¼‰]()**                 |
| **[`redis`å’Œ`mysql`å¦‚ä½•å®ç°åŒåˆ ä¸€è‡´æ€§ï¼ˆï¼‰]()**               |
| **[é™æµçš„çš„åŸç†å’Œé¡¹ç›®ä¸­ä½¿ç”¨(è¿‘æœŸæ›´æ–°)]()**                   |

